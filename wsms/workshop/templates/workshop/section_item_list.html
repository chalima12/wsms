{% extends "./base1.html" %}
{% block title %}
    <title>Number of Items per Section</title>
{% endblock title %}

{% block content1 %}
<div class="container mt-1">
    <!-- Optional: Date selection form -->
</div>
{% endblock content1 %}

{% block content %}
<div class="container mt-1">
    <div class="card m-3">
        <div class="card-header">
            <h2 class="container mx-5 card-title"> Number of Items per Section</h2>
        </div>
        <div class="card-body">
            <table id="example1" class="table table-bordered table-striped">
                <thead class="dataTables_info">
                    <tr>
                        <th rowspan="2">Section</th>
                        {% comment %} <th rowspan="2">Total</th> {% endcomment %}
                        <th rowspan="2">Completed</th>
                        <th rowspan="2">Damage</th>
                        <th colspan="3">Remain</th>
                    </tr>
                    <tr>
                        <th>Total</th>
                        <th>Previous Week</th>
                        <th>This Week</th>
                    </tr>
                </thead>
                <tbody>
                    {% for section in sections %}
                    <tr>
                        <td>{{ section.name }}</td>
                        {% comment %} <td>{{ section.completed_items|add:section.pending_items_current_week|add:section.damage_items|add:section.pending_items_prev_week }}</td> {% endcomment %}
                        <td>{{ section.completed_items }}</td>
                        <td>{{ section.damage_items }}</td>
                        <td>{{ section.pending_items_prev_week|add:section.pending_items_current_week }}</td>
                        <td>{{ section.pending_items_prev_week }}</td>
                        <td>{{ section.pending_items_current_week }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock content %}
