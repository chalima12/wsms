
{% extends "./base1.html" %}


{% block title %}
<title> Assignments List</title>
 
{% endblock title %}
  
{% block content %}
    <!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">

            <div class="card">
              <div class="card-header">
                <h2 class="container mx-5 card-title">List of Assignments</h2>
              </div>

     {% if messages %}
     <ul class="messages alert-success float-right">
     {% for message in messages %}
     <li style='List-style:none' class="{{ message.tags }}">{{ message }}</li>
     {% endfor %}
     </ul>
     {% endif %}
              <!-- /.card-header -->
              <div class="card-body">
                <table id="example1" class="table table-bordered table-striped">

                
                  <thead class="dataTables_info">
                    <tr>
                      <th>Section</th>
                      <th>Item</th>
                      <th>Engineer</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for data in assignments %}
                          <tr>
                            <td>{{data.Section}}</td>
                            <td>{{data.item}}</td>
                            <td>{{data.engineer}}</td>
                            <td>
                              <a style='border-radius:10%'  class="btn btn-info btn-sm btn " 
                              href='{% url "workshop:item_detail" data.item.id%}' > <span class="fas fa-eye ">Item</span></a>
                              
                            
                              {% if not data.item.is_accepted %}
                                      <a style='border-radius:10%' class="btn btn-success btn-sm" href="javascript:void(0)" 
                                      data-toggle="modal"
                                      class="confirm-accept"
                                      data-url="{% url 'workshop:accept' data.id %}"
                                      data-target="#acceptItemModal"
                                      data-message="Are you Sure to accept this Assignment  ?" 
                                      >
                                      
                                        <span>Accept</span>
                                    </a>
                                    
                              {% else %}
                                          <a style='border-radius:10%'  class="btn btn-success btn-sm btn disabled" href='#' > <span class="fa ">Accepted</span></a>
                                        
                                          {% if  data.item.status == 'completed'%}
                                          <a style='border-radius:10%'  class="btn btn-primary btn-sm btn disabled"
                                          href='#'> <span class="fa ">Completed</span></a>
                                          
                                          {% else %}
                                          <a href="{% url 'workshop:complete' data.id %}" class="btn btn-primary btn-sm" >
                                            Complete
                                          </a>
                                        
                                          <a style='border-radius:10%' class="btn btn-warning btn-sm " href="{% url 'workshop:create-component' data.id %}" >
                                            <span class="fa fa-plus"> component</span>
                                            
                                          </a>
                                          {% endif %} 
                              {% endif %}
                              

                              
                          </td>
                          </tr>
                          
                    {% endfor %}
                          
                        
                          
                       
                  </tbody>
                    </table>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->
          </div>
          <!-- /.col -->
        </div>
        <!-- /.row -->
      </div>
  </div>
{% endblock content %}
    





